# 抽象工厂模式

### 介绍
抽象工厂模式，提供一个创建一系列相关对象的接口，无需指定具体的实现类。对比工厂方法模式来说，工厂方法模式只能在一个工厂生产一个对象，而抽象工厂
模式就是为了解决工厂方法模式的不足，使得一个工厂可以创建多个相关对象。

### 应用场景
现实中，华为和苹果都是大厂，可以理解为工厂。二者都是生产手机的，如果仅仅生产手机这种单一产品，那就是工厂方法模式，但是这两个工厂还生产电脑、平板
等产品。这样，一个工厂提供多个对象的创建就是抽象工厂模式了。

在各种项目中与数据库的交互基本是必不可少的。如果要将数据从SqlServer迁移到Mysql中，在不使用开源框架的前提下，只增加扩展Mysql类做切换是最好的
结果。SqlServer和Mysql都可以理解为一个工厂，而每个数据表对应的对象，都是工厂产出的不同产品，这就是抽象工厂模式的应用。

抽象工厂模式有个缺点：当增加新的产品时，往往需要在所有的工厂中增加创建新对象的方法、修改接口、增加新产品接口、新产品的具体实现类，如此大的改动可以
说是非常丑陋的。

抽象工厂模式改进：反射+抽象工厂模式。如果在动态语言中非常容易实现，比如php，将命名空间+类名以字符串的形式保存后即可通过反射创建对象甚至直接实例化
。但是go语言是编译型语言，没有类型工厂，而且链接器将消除无效代码。所以如果使用反射解决的话需要将类型事先注册，然后再使用反射创建对象。